Title: 40323230日誌 - 105/09/09
Date: 2016-09-09 21:00
Category: 2016bg2
Tags: Kmol, Pyslvs
Author: 40323230

1. Pyslvs 編譯進度

1. 近似直線機構問題

1. 活塞 → 動力源而非被動元件

1. 參數式設計？

1. 測量能力待加強

<!-- PELICAN_END_SUMMARY -->

Pyslvs 界面
===

Fusion 主題
---

使用 QApplication 的主題選擇功能指定主題。

這樣在 Ubuntu 執行時會強制使用該元件外觀，而非之前節圖的鐵灰色。

<pre class="brush: python">
QApplication.setStyle("fusion")
app = QApplication(argv)
run  = MainWindow()
run.show()
exit(app.exec())
</pre>

Qt 的說明文件提及，雖然 Qt 程式庫擁有 5 種主題，但是所有平台共通的是 `fusion` 和 `windows`（傳統佈景）主題。

只在有在特定平台才能正常顯示特定主題，如在麥金塔上使用 `macintosh`，Windows XP 上使用 `windowsxp`，Windows Vista 以上的作業系統使用 `windowsvista`。

<img src="http://i.imgur.com/AuNkVl3.png" >

編輯視窗提取舊資料
---

編輯視窗會在下拉選單變更對象時提取該項目資料，以供參考。

使用右鍵選單時，亦會嘗試讀取選中的欄位，自動選到該項目。

<img src="http://i.imgur.com/hHMwFx7.png" >

刪除功能的右鍵選單也會將選中的欄位對應下拉式選單。

移除驅動軸面板的暫停功能
---

由於暫停的功能也不算是非常必須，所以將停止的功能拿掉。

若要中止動畫，直接將面板關掉就好了。

<img src="http://i.imgur.com/Qj26wE2.png" >

直線機構問題
===

今天嘗試了 Peaucellier 直線機構的模擬，但是在輸入軸轉動的時候碰到一些障礙。

直線機構無法立即得知其極限，而之前做的路徑追蹤功能只支援**知道範圍**的圓周運動。

不過按理說頂多會回傳約束錯誤的訊息，但是沒想到連一度都無法搖擺，不知道是機構卡死還是什麼問題。

所以想正視這個情況，讓直線機構也可以在 Pyslvs 上模擬。

<img src="http://i.imgur.com/wRWDQ3x.png" >

應該做一個能夠解極限的功能。

<hr>

活塞動力源
===

由於程式庫的技術問題，可能無法計算可以改變長度的被動元件，所以將活塞功能改成直線驅動的連桿，可以嘗試讓一活動點進行固定直線運動。

構成是由節點、兩固定點構成的直線上作動，跟滑塊不同的是，這個項目是無極限的主動元件，利用增量進行移動（使用者可設定範圍），遇到約束衝突會強制結束。

預計這個功能要加入驅動面板中，讓這個面板能管理主動軸與活塞動力。

<hr>

參數式設計
===

想讓 Pyslvs 加入新的參數設計表，紀錄所有使用者使用的參數，支援使用者自行註解、在表內進行交叉運算。

這樣修改更快，達成機械設計的目的，跟上大部分 CAD 軟體一樣的功能。

表格會跟點座標和連桿約束等等的項目存入 Data Sheet 中。

不過這樣所有新增和編輯界面就得做調整。

測量能力
===

測量面板目前只有計算點之間的距離，無法測量角度之類，有些不方便。

有大量現成的數學公式求解，拿來用在點座標結果上是再好不過了。

預計之後測量、驅動面板會增強許多，上面提到的解極限的功能或許也會歸類在面板類。