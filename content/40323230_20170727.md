Title: Pyslvs 演算法調整
Date: 2017-07-27 21:00
Category: 2016bg2
Tags: Pyslvs
Author: 40323230

Pyslvs 開發進度

+ 運算進度條
+ 不同演算法參數調整
+ tinycadlib 更新

<!-- PELICAN_END_SUMMARY -->

運算進度條
===

透過論壇的小技巧製作出可以回傳 Cython 進度的方式（適用於所有 Python function）。

<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF">Genetic</span>(<span style="color: #008000">object</span>):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;宣告&quot;&quot;&quot;</span>
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">object</span> <span style="color: #0000FF">progress_fun</span>

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__cinit__</span>(<span style="color: #008000">self</span>, <span style="color: #408080; font-style: italic">#其他參數</span>
            <span style="color: #008000">object</span> progress_fun<span style="color: #666666">=</span><span style="color: #008000">None</span>):
        <span style="color: #408080; font-style: italic">#將 progress_fun 放到 self 中</span>
        <span style="color: #008000">self</span><span style="color: #666666">.</span>progress_fun <span style="color: #666666">=</span> progress_fun

    <span style="color: #008000; font-weight: bold">cpdef</span> <span style="color: #0000FF">run</span>(<span style="color: #008000">self</span>):
        <span style="color: #408080; font-style: italic">#每代的迴圈</span>
        <span style="color: #008000; font-weight: bold">for</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>gen <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">1</span>, <span style="color: #008000">self</span><span style="color: #666666">.</span>maxGen <span style="color: #666666">+</span> <span style="color: #666666">1</span>):
            <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;計算流程&quot;&quot;&quot;</span>
            <span style="color: #408080; font-style: italic">#計算後回傳當前代數</span>
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>progress_fun <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000">None</span>: <span style="color: #008000">self</span><span style="color: #666666">.</span>progress_fun(<span style="color: #008000">self</span><span style="color: #666666">.</span>gen)
</pre></td></tr></table></div>

在 Python 端只要為 QThread 建立信號 `progress_update`，並將信號的 `emit` 方法傳入 Cython Object 即可。

<pre class="brush: python">
class WorkerThread(QThread):
    progress_update = pyqtSignal(int)
    def generateProcess(self):
        #選擇演算法並改名成 foo
        self.fun = foo(mechanismObj, progress_fun=self.progress_update.emit, **APs)
        time_and_fitness, fitnessParameter = self.fun.run()
</pre>

此信號在 GUI 中與 Progress bar 的 `setValue` 信號槽連接即可。

<pre class="brush: python">
self.work.progress_update.connect(self.progressBar.setValue)
</pre>

接著就能看到當前運算的進度了，上述方法只須記得統一用 int 類型即可。

![](https://raw.githubusercontent.com/coursemdetw/project_site_files/gh-pages/files/pyslvs/17_07_27.png)

不同演算法參數調整
===

後來發現，若是 Firefly 的代數與初始族群較大，將會比其他演算法花更久的時間，因此做了初始族群的調整。

初始族群的數量只比學長預設的多 1 倍即可。

+ 基因演算法由 250 提昇為 500。
+ 螢火蟲演算法由 40 提昇為 80。
+ 差分演化法由 190 提昇為 400。

tinycadlib 更新
===

大致了解 Cython 語法後，為 tinycadlib 程式庫新增了三角形驗證函式 `legal_triangle` 和 `PLPP` 計算式。

前者是因為之前的 `build_planar` object function 似乎沒有邊長驗證機制，導致產出非三角形的連桿組；加入後還在觀察情況是否會改善。

<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">1
2
3
4
5
6</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">cpdef</span> <span style="color: #B00040">bool</span> <span style="color: #0000FF">legal_triangle</span>(Coordinate A, Coordinate B, Coordinate C):
    <span style="color: #408080; font-style: italic">#L0, L1, L2 is triangle</span>
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">L0</span> <span style="color: #666666">=</span> A<span style="color: #666666">.</span>distance(B)
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">L1</span> <span style="color: #666666">=</span> B<span style="color: #666666">.</span>distance(C)
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">L2</span> <span style="color: #666666">=</span> A<span style="color: #666666">.</span>distance(C)
    <span style="color: #008000; font-weight: bold">return</span> L1<span style="color: #666666">+</span>L2<span style="color: #666666">&gt;</span>L0 <span style="color: #AA22FF; font-weight: bold">and</span> L0<span style="color: #666666">+</span>L2<span style="color: #666666">&gt;</span>L1 <span style="color: #AA22FF; font-weight: bold">and</span> L0<span style="color: #666666">+</span>L1<span style="color: #666666">&gt;</span>L2
</pre></td></tr></table></div>

後者則是備用於滑塊演算法的需求。

<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">cpdef</span> <span style="color: #0000FF">PLPP</span>(Coordinate A, double L0, Coordinate B, Coordinate C, double loop<span style="color: #666666">=1</span>):
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">x1</span> <span style="color: #666666">=</span> A<span style="color: #666666">.</span>x
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">y1</span> <span style="color: #666666">=</span> A<span style="color: #666666">.</span>y
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">x2</span> <span style="color: #666666">=</span> B<span style="color: #666666">.</span>x
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">y2</span> <span style="color: #666666">=</span> B<span style="color: #666666">.</span>y
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">x3</span> <span style="color: #666666">=</span> C<span style="color: #666666">.</span>x
    <span style="color: #008000; font-weight: bold">cdef</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">y3</span> <span style="color: #666666">=</span> C<span style="color: #666666">.</span>y
    <span style="color: #008000; font-weight: bold">if</span> loop<span style="color: #666666">&gt;0</span>:
        <span style="color: #008000; font-weight: bold">return</span> (
            ((x2<span style="color: #666666">-</span>x3)<span style="color: #666666">*</span>(x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> x1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> (<span style="color: #666666">-</span>y2 <span style="color: #666666">+</span> y3)<span style="color: #666666">*</span>sqrt(L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">**2*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x2<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y2<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span>)) <span style="color: #666666">-</span> (x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y2<span style="color: #666666">*</span>x3)<span style="color: #666666">*</span>(x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> y3<span style="color: #666666">**2</span>))<span style="color: #666666">/</span>((y2 <span style="color: #666666">-</span> y3)<span style="color: #666666">*</span>(x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> y3<span style="color: #666666">**2</span>)),
            (x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> x1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> (<span style="color: #666666">-</span>y2 <span style="color: #666666">+</span> y3)<span style="color: #666666">*</span>sqrt(L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">**2*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x2<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y2<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span>))<span style="color: #666666">/</span>(x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> y3<span style="color: #666666">**2</span>)
        )
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #008000; font-weight: bold">return</span> (
            ((x2<span style="color: #666666">-</span>x3)<span style="color: #666666">*</span>(x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> x1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> (y2 <span style="color: #666666">-</span> y3)<span style="color: #666666">*</span>sqrt(L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">**2*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x2<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y2<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span>)) <span style="color: #666666">-</span> (x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y2<span style="color: #666666">*</span>x3)<span style="color: #666666">*</span>(x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> y3<span style="color: #666666">**2</span>))<span style="color: #666666">/</span>((y2 <span style="color: #666666">-</span> y3)<span style="color: #666666">*</span>(x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> y3<span style="color: #666666">**2</span>)),
            (x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> x1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y1<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> (y2 <span style="color: #666666">-</span> y3)<span style="color: #666666">*</span>sqrt(L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>L0<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> L0<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">**2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> x1<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y1<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">**2*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">**2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> y1<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">**2*</span>y3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3 <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>x2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> <span style="color: #666666">2*</span>y1<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">**2</span> <span style="color: #666666">-</span> x2<span style="color: #666666">**2*</span>y3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>y2<span style="color: #666666">*</span>x3<span style="color: #666666">*</span>y3 <span style="color: #666666">-</span> y2<span style="color: #666666">**2*</span>x3<span style="color: #666666">**2</span>))<span style="color: #666666">/</span>(x2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>x2<span style="color: #666666">*</span>x3 <span style="color: #666666">+</span> y2<span style="color: #666666">**2</span> <span style="color: #666666">-</span> <span style="color: #666666">2*</span>y2<span style="color: #666666">*</span>y3 <span style="color: #666666">+</span> x3<span style="color: #666666">**2</span> <span style="color: #666666">+</span> y3<span style="color: #666666">**2</span>)
        )
</pre></td></tr></table></div>